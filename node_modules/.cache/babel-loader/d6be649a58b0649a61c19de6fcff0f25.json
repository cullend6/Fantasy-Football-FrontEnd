{"ast":null,"code":"import _slicedToArray from \"C:\\\\Projects\\\\fantasy-football-app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Projects\\\\fantasy-football-app\\\\client\\\\src\\\\components\\\\PlayerSelector.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nexport default function PlayerSelector(props) {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        playerName = _useState2[0],\n        setPlayerName = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        isValid = _useState4[0],\n        setIsValid = _useState4[1];\n\n  const types = ['GK', 'DEF', 'MID', 'FWD'];\n  const pos = types[props.type - 1];\n\n  const handleClick = async () => {\n    try {\n      const _ref = await axios.get(\"http://localhost:5000/players/\".concat(playerName)),\n            _ref$data$ = _ref.data[0],\n            _ref$data$2 = _ref$data$ === void 0 ? {} : _ref$data$,\n            web_name = _ref$data$2.web_name,\n            total_points = _ref$data$2.total_points,\n            id = _ref$data$2.id,\n            element_type = _ref$data$2.element_type;\n\n      if (!web_name) {\n        throw new Error(\"Can't find this player.\");\n      }\n\n      if (!(element_type == props.type)) {\n        console.log(element_type);\n        throw new Error(\"\".concat(web_name, \" is not a \").concat(pos, \".\"));\n      }\n\n      console.log(web_name, total_points, pos);\n      setIsValid(true);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const handleChange = e => {\n    setIsValid(false);\n    setPlayerName(e.target.value);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, pos, React.createElement(\"input\", {\n    value: playerName,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Check if valid\"), isValid ? 'Valid' : null);\n}","map":{"version":3,"sources":["C:\\Projects\\fantasy-football-app\\client\\src\\components\\PlayerSelector.js"],"names":["React","useState","axios","PlayerSelector","props","playerName","setPlayerName","isValid","setIsValid","types","pos","type","handleClick","get","data","web_name","total_points","id","element_type","Error","console","log","e","handleChange","target","value"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,eAAe,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAAA,oBAENH,QAAQ,CAAC,EAAD,CAFF;AAAA;AAAA,QAEnCI,UAFmC;AAAA,QAEvBC,aAFuB;;AAAA,qBAGZL,QAAQ,CAAC,KAAD,CAHI;AAAA;AAAA,QAGnCM,OAHmC;AAAA,QAG1BC,UAH0B;;AAK1C,QAAMC,KAAK,GAAG,CAAC,IAAD,EAAO,KAAP,EAAc,KAAd,EAAqB,KAArB,CAAd;AACA,QAAMC,GAAG,GAAGD,KAAK,CAACL,KAAK,CAACO,IAAN,GAAa,CAAd,CAAjB;;AAEA,QAAMC,WAAW,GAAG,YAAY;AAC5B,QAAI;AAAA,mBAC2E,MAAMV,KAAK,CAACW,GAAN,yCAA2CR,UAA3C,EADjF;AAAA,8BACMS,IADN,CACe,CADf;AAAA,kDACkE,EADlE;AAAA,YACqBC,QADrB,eACqBA,QADrB;AAAA,YAC+BC,YAD/B,eAC+BA,YAD/B;AAAA,YAC6CC,EAD7C,eAC6CA,EAD7C;AAAA,YACiDC,YADjD,eACiDA,YADjD;;AAGF,UAAG,CAACH,QAAJ,EAAc;AACZ,cAAM,IAAII,KAAJ,2BAAN;AACD;;AACD,UAAG,EAAED,YAAY,IAAId,KAAK,CAACO,IAAxB,CAAH,EAAkC;AAC9BS,QAAAA,OAAO,CAACC,GAAR,CAAYH,YAAZ;AACF,cAAM,IAAIC,KAAJ,WAAaJ,QAAb,uBAAkCL,GAAlC,OAAN;AACD;;AAEDU,MAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ,EAAsBC,YAAtB,EAAoCN,GAApC;AACAF,MAAAA,UAAU,CAAC,IAAD,CAAV;AACD,KAbD,CAaE,OAAOc,CAAP,EAAU;AACVF,MAAAA,OAAO,CAACC,GAAR,CAAYC,CAAZ;AACD;AACF,GAjBH;;AAmBE,QAAMC,YAAY,GAAID,CAAD,IAAO;AAC1Bd,IAAAA,UAAU,CAAC,KAAD,CAAV;AACAF,IAAAA,aAAa,CAACgB,CAAC,CAACE,MAAF,CAASC,KAAV,CAAb;AACD,GAHD;;AAKF,SACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKf,GADL,EAEI;AAAO,IAAA,KAAK,EAAEL,UAAd;AAA0B,IAAA,QAAQ,EAAEkB,YAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAQ,IAAA,OAAO,EAAEX,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ,EAIKL,OAAO,GAAG,OAAH,GAAa,IAJzB,CADJ;AAQH","sourcesContent":["import React, { useState } from 'react'\r\nimport axios from 'axios'\r\n\r\n\r\nexport default function PlayerSelector(props) {\r\n\r\n    const [playerName, setPlayerName] = useState('')\r\n    const [isValid, setIsValid] = useState(false)\r\n\r\n    const types = ['GK', 'DEF', 'MID', 'FWD']\r\n    const pos = types[props.type - 1]\r\n\r\n    const handleClick = async () => {\r\n        try {\r\n          const { data: { [0]: { web_name, total_points, id, element_type } = {} } } = await axios.get(`http://localhost:5000/players/${playerName}`)\r\n    \r\n          if(!web_name) {\r\n            throw new Error(`Can't find this player.`)\r\n          }\r\n          if(!(element_type == props.type)) {\r\n              console.log(element_type)\r\n            throw new Error(`${web_name} is not a ${pos}.`)\r\n          }\r\n          \r\n          console.log(web_name, total_points, pos)  \r\n          setIsValid(true)\r\n        } catch (e) {\r\n          console.log(e)\r\n        }\r\n      }\r\n    \r\n      const handleChange = (e) => {\r\n        setIsValid(false)\r\n        setPlayerName(e.target.value)\r\n      }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            {pos}\r\n            <input value={playerName} onChange={handleChange}></input>\r\n            <button onClick={handleClick}>Check if valid</button>\r\n            {isValid ? 'Valid' : null}\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}