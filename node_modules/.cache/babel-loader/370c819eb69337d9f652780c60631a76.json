{"ast":null,"code":"import _slicedToArray from \"C:\\\\Projects\\\\fantasy-football-app\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Projects\\\\fantasy-football-app\\\\client\\\\src\\\\components\\\\PlayerInfo.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nexport default function PlayerInfo({\n  player\n}) {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        opponents = _useState2[0],\n        setOpponents = _useState2[1];\n\n  const getPlayerSrc = ({\n    photo\n  }) => {\n    const result = photo.replace('jpg', 'png');\n    const pic = 'https://platform-static-files.s3.amazonaws.com/premierleague/photos/players/110x140/p' + result;\n\n    if (pic) {\n      return pic;\n    } else {\n      return 'https://www.premierleague.com/resources/prod/3200dda-1369/i/elements/premier-league-logo-header-mob.svg';\n    }\n  };\n\n  const getPlayerFixtures = async ({\n    id\n  }) => {\n    const _ref = await axios.get('http://localhost:5000/players?fixtures=' + id),\n          fixtureData = _ref.data.fixtures;\n\n    const upcomingFixtures = fixtureData.filter((fixture, index) => index < 3);\n    const opponentIds = upcomingFixtures.map(fixture => fixture.is_home ? fixture.team_a : fixture.team_h);\n    const opponents = await getTeamNames(opponentIds);\n    setOpponents(opponents);\n  };\n\n  getPlayerFixtures(player);\n\n  const getTeamNames = async Ids => {\n    try {\n      const _ref2 = await axios.get(\"http://localhost:5000/teams\"),\n            data = _ref2.data;\n\n      const teamNames = data.map(team => team.name);\n      teamNames.sort();\n      const opponents = Ids.map(id => teamNames[id - 1]);\n      return opponents;\n    } catch (e) {}\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: getPlayerSrc(player),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, player.first_name), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, player.second_name), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, player.total_points), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, opponents.map(opponent => React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, opponent))));\n}","map":{"version":3,"sources":["C:\\Projects\\fantasy-football-app\\client\\src\\components\\PlayerInfo.js"],"names":["React","useState","axios","PlayerInfo","player","opponents","setOpponents","getPlayerSrc","photo","result","replace","pic","getPlayerFixtures","id","get","fixtureData","data","fixtures","upcomingFixtures","filter","fixture","index","opponentIds","map","is_home","team_a","team_h","getTeamNames","Ids","teamNames","team","name","sort","e","first_name","second_name","total_points","opponent"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,UAAT,CAAoB;AAAEC,EAAAA;AAAF,CAApB,EAA+B;AAAA,oBAERH,QAAQ,CAAC,EAAD,CAFA;AAAA;AAAA,QAEnCI,SAFmC;AAAA,QAExBC,YAFwB;;AAI1C,QAAMC,YAAY,GAAG,CAAC;AAAEC,IAAAA;AAAF,GAAD,KAAe;AAChC,UAAMC,MAAM,GAAGD,KAAK,CAACE,OAAN,CAAc,KAAd,EAAqB,KAArB,CAAf;AACA,UAAMC,GAAG,GAAG,0FAA0FF,MAAtG;;AACA,QAAKE,GAAL,EAAW;AACP,aAAOA,GAAP;AACH,KAFD,MAEO;AACH,aAAO,yGAAP;AACH;AACJ,GARD;;AAUA,QAAMC,iBAAiB,GAAG,OAAO;AAAEC,IAAAA;AAAF,GAAP,KAAkB;AAAA,iBACI,MAAMX,KAAK,CAACY,GAAN,CAAU,4CAA4CD,EAAtD,CADV;AAAA,UACdE,WADc,QAChCC,IADgC,CACxBC,QADwB;;AAExC,UAAMC,gBAAgB,GAAGH,WAAW,CAACI,MAAZ,CAAmB,CAACC,OAAD,EAAUC,KAAV,KAAqBA,KAAK,GAAG,CAAhD,CAAzB;AACA,UAAMC,WAAW,GAAIJ,gBAAgB,CAACK,GAAjB,CAAqBH,OAAO,IAAIA,OAAO,CAACI,OAAR,GAAmBJ,OAAO,CAACK,MAA3B,GAAoCL,OAAO,CAACM,MAA5E,CAArB;AACA,UAAMrB,SAAS,GAAG,MAAMsB,YAAY,CAACL,WAAD,CAApC;AACAhB,IAAAA,YAAY,CAACD,SAAD,CAAZ;AACH,GAND;;AAQAO,EAAAA,iBAAiB,CAACR,MAAD,CAAjB;;AAEA,QAAMuB,YAAY,GAAG,MAAOC,GAAP,IAAe;AAChC,QAAI;AAAA,oBACiB,MAAM1B,KAAK,CAACY,GAAN,+BADvB;AAAA,YACQE,IADR,SACQA,IADR;;AAGA,YAAMa,SAAS,GAAGb,IAAI,CAACO,GAAL,CAASO,IAAI,IAAIA,IAAI,CAACC,IAAtB,CAAlB;AACAF,MAAAA,SAAS,CAACG,IAAV;AACA,YAAM3B,SAAS,GAAGuB,GAAG,CAACL,GAAJ,CAAQV,EAAE,IAAIgB,SAAS,CAAChB,EAAE,GAAC,CAAJ,CAAvB,CAAlB;AACA,aAAOR,SAAP;AACH,KAPD,CAOE,OAAO4B,CAAP,EAAU,CAEX;AACJ,GAXD;;AAaA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAE1B,YAAY,CAACH,MAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKA,MAAM,CAAC8B,UADZ,CAFJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK9B,MAAM,CAAC+B,WADZ,CALJ,EAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK/B,MAAM,CAACgC,YADZ,CARJ,EAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI/B,SAAS,CAACkB,GAAV,CAAcc,QAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMA,QAAN,CAA1B,CADJ,CAXJ,CADJ;AAiBH","sourcesContent":["import React, { useState } from 'react'\r\nimport axios from 'axios'\r\n\r\nexport default function PlayerInfo({ player }){\r\n\r\n    const [opponents, setOpponents] = useState([])\r\n\r\n    const getPlayerSrc = ({ photo }) => {\r\n        const result = photo.replace('jpg', 'png')\r\n        const pic = 'https://platform-static-files.s3.amazonaws.com/premierleague/photos/players/110x140/p' + result\r\n        if ( pic ) {\r\n            return pic\r\n        } else {\r\n            return 'https://www.premierleague.com/resources/prod/3200dda-1369/i/elements/premier-league-logo-header-mob.svg'\r\n        } \r\n    }\r\n\r\n    const getPlayerFixtures = async ({ id }) => {\r\n        const { data: { fixtures: fixtureData } } = await axios.get('http://localhost:5000/players?fixtures=' + id)\r\n        const upcomingFixtures = fixtureData.filter((fixture, index) => (index < 3))\r\n        const opponentIds =  upcomingFixtures.map(fixture => fixture.is_home ?  fixture.team_a : fixture.team_h)\r\n        const opponents = await getTeamNames(opponentIds)\r\n        setOpponents(opponents)\r\n    }\r\n\r\n    getPlayerFixtures(player)\r\n\r\n    const getTeamNames = async (Ids) => {\r\n        try {\r\n            const { data } = await axios.get(`http://localhost:5000/teams`)\r\n            \r\n            const teamNames = data.map(team => team.name)\r\n            teamNames.sort()\r\n            const opponents = Ids.map(id => teamNames[id-1])\r\n            return opponents\r\n        } catch (e) {\r\n    \r\n        }\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            <img src={getPlayerSrc(player)} />\r\n            <div>\r\n                {player.first_name}\r\n            </div>\r\n            <div>\r\n                {player.second_name}\r\n            </div>\r\n            <div>\r\n                {player.total_points}\r\n            </div>\r\n            <div>\r\n               {opponents.map(opponent => <div>{opponent}</div>)}\r\n            </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}